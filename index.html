<script>
    window.watsonAssistantChatOptions = {
      integrationID: "ed428f23-61fb-42c7-b5ad-45995b4c2d92", // The ID of this integration.
      region: "us-south", // The region your integration is hosted in.
      serviceInstanceID: "65990e2d-697c-473b-9033-da43beb1a8ee", // The ID of your service instance.
      onLoad: async (instance) => { await instance.render(); }
    };
  
    // Establish WebSocket connection to receive messages from phone assistant
    const ws = new WebSocket('ws://localhost:8080'); // WebSocket server URL
    ws.onmessage = function(event) {
      const message = event.data;
      console.log('Received message:', message);
      
      // Send message to Watson Assistant (via Web Chat)
      instance.sendMessage(message).then(response => {
        console.log('Message sent:', response);
      }).catch(err => {
        console.error('Error sending message:', err);
      });
  
      // Display conversation on the web
      const conversationBox = document.getElementById('conversation');
      const messageDiv = document.createElement('div');
      messageDiv.textContent = "User: " + message;
      conversationBox.appendChild(messageDiv);
    };
  
    setTimeout(function(){
      const scriptElement = document.createElement('script');
      scriptElement.src = "https://web-chat.global.assistant.watson.appdomain.cloud/versions/" + 
                          (window.watsonAssistantChatOptions.clientVersion || 'latest') + 
                          "/WatsonAssistantChatEntry.js";
      document.head.appendChild(scriptElement);
    });
</script>
  
<!-- Conversation Box for Display -->
<div id="conversation" style="max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;"></div>
  
  <!-- Conversation Box for Display -->
  <div id="conversation" style="max-height: 300px; overflow-y: auto; border: 1px solid #ccc; padding: 10px;"></div>
  
